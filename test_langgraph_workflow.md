# LangGraph 워크플로우 테스트 가이드

## 테스트 범위

### 1. 구조 검증
- 노드 등록 및 엣지 연결 확인
- 엔트리/종료 지점 확인
- 상태 정의 및 전달 확인

### 2. 노드 기능 검증
- 각 노드의 입력/출력 처리 확인
- 외부 API 호출 노드 동작 확인
- 비즈니스 로직 노드: 구조화 출력, 에러 처리, 추적

### 3. 조건부 분기
- 조건 함수 정확성
- 분기 경로 정상 동작
- 예외 상황 분기 처리

### 4. 에러 처리
- 노드 레벨: 에러 처리, 상태 업데이트, 메시지 명확성
- 워크플로우 레벨: 예외 처리, 부분 실패 상태 관리

### 5. 로깅
- 스텝 기록 완전성 (입력/출력/상태/메시지)
- 타임스탬프 정확성

## 테스트 케이스

### 정상
- 모든 노드 순차 실행
- 상태 전달 정상
- 최종 응답 완전성

### 에러
- 외부 API 실패 처리
- 잘못된 입력 검증
- 환경 설정 오류

## 주의사항

- 비동기 처리: `await` 사용, 동시 실행 고려
- 상태 격리: 각 테스트 독립 실행
- 외부 의존성: 모킹 고려, 비용/시간 고려
- 추적: 사용량/비용 정확성

## 체크리스트

- [ ] 그래프 구성 정확
- [ ] 모든 노드 정상 실행
- [ ] 상태 전달 정상
- [ ] 조건부 분기 정확
- [ ] 에러 처리 적절
- [ ] 로깅 완전
- [ ] 최종 응답 완전
- [ ] 비동기 처리 정상

